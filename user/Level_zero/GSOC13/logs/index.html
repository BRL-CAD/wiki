<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        <link rel="canonical" href="https://brl-cad.github.io/wiki/user/Level_zero/GSOC13/logs/">
        <link rel="shortcut icon" href="../../../../img/favicon.ico">
        <title>Development Logs - BRL-CAD Wiki</title>
        <link href="../../../../css/bootstrap.min.css" rel="stylesheet">
        <link href="../../../../css/font-awesome.min.css" rel="stylesheet">
        <link href="../../../../css/base.css" rel="stylesheet">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/styles/github.min.css">

        <script src="../../../../js/jquery-1.10.2.min.js" defer></script>
        <script src="../../../../js/bootstrap.min.js" defer></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/highlight.min.js"></script>
        <script>hljs.initHighlightingOnLoad();</script> 
    </head>

    <body>
        <div class="navbar fixed-top navbar-expand-lg navbar-dark bg-primary">
            <div class="container">
                <a class="navbar-brand" href="../../../..">BRL-CAD Wiki</a>
                <!-- Expander button -->
                <button type="button" class="navbar-toggler" data-toggle="collapse" data-target="#navbar-collapse">
                    <span class="navbar-toggler-icon"></span>
                </button>

                <!-- Expanded navigation -->
                <div id="navbar-collapse" class="navbar-collapse collapse">
                        <!-- Main navigation -->
                        <ul class="nav navbar-nav">
                            <li class="navitem">
                                <a href="../../../.." class="nav-link">Home</a>
                            </li>
                            <li class="navitem">
                                <a href="../../../../DocPages/" class="nav-link">DocPages</a>
                            </li>
                            <li class="navitem">
                                <a href="../../../../UserPages/" class="nav-link">UserPages</a>
                            </li>
                        </ul>

                    <ul class="nav navbar-nav ml-auto">
                        <li class="nav-item">
                            <a href="#" class="nav-link" data-toggle="modal" data-target="#mkdocs_search_modal">
                                <i class="fa fa-search"></i> Search
                            </a>
                        </li>
                            <li class="nav-item">
                                <a href="https://github.com/BRL-CAD/wiki/blob/main/pages/user/Level_zero/GSOC13/logs.md" class="nav-link"><i class="fa fa-github"></i> Edit on GitHub</a>
                            </li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="container">
            <div class="row">
                    <div class="col-md-3"><div class="navbar-light navbar-expand-md bs-sidebar hidden-print affix" role="complementary">
    <div class="navbar-header">
        <button type="button" class="navbar-toggler collapsed" data-toggle="collapse" data-target="#toc-collapse" title="Table of Contents">
            <span class="fa fa-angle-down"></span>
        </button>
    </div>

    
    <div id="toc-collapse" class="navbar-collapse collapse card bg-secondary">
        <ul class="nav flex-column">
            
            <li class="nav-item" data-level="1"><a href="#development-logs" class="nav-link">Development Logs</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-level="2"><a href="#project-details" class="nav-link">Project Details</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#introduction" class="nav-link">Introduction</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
        </ul>
    </div>
</div></div>
                    <div class="col-md-9" role="main">

<h1 id="development-logs">Development Logs</h1>
<h2 id="project-details">Project Details</h2>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Project Name</strong></td>
<td>Consolidating and Adding the Image Processing Functions to LIBICV</td>
</tr>
<tr>
<td><strong>Project Sudent</strong></td>
<td>Mohit Daga</td>
</tr>
<tr>
<td><strong>IRC(nick)</strong></td>
<td>zero_level</td>
</tr>
<tr>
<td><strong>Google-Melange username</strong></td>
<td>zero_level</td>
</tr>
<tr>
<td><strong>Phone Number</strong></td>
<td>+91 9783582684</td>
</tr>
<tr>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<h2 id="introduction">Introduction</h2>
<p>This page will contain weekly targets and Updates about the work done.</p>
<h3 id="pre-coding-period">Pre Coding Period</h3>
<p>'''''From 1st to 5th June</p>
<p>Will be unavailable on the internet, Visiting the meditation facility.</p>
<ul>
<li>Targets during this time<ul>
<li>As per the proposal document I will be studying the Image
    Processing tools.</li>
</ul>
</li>
</ul>
<!-- -->

<ul>
<li>Read Details regarding SVN.</li>
</ul>
<p>'''''5th June to 9th June</p>
<ul>
<li>Read Codes of the utilities from Group 1-8. Made Rough Notes for all
    theses utilities and working for an Implementation Plan.</li>
</ul>
<p>'''''10th June to 12th June</p>
<ul>
<li>Api Design and Posting them on BRLCAD website. It can be accessed
    from <a href="../api/">here</a>.</li>
</ul>
<p>'''''12th June - 14th June</p>
<ul>
<li>Working on conversion tools. Posted a patch for conversion of pix-bw
    and bw-pix.Patch can be found
    <a href="http://sourceforge.net/p/brlcad/patches/188/">1</a>.</li>
</ul>
<h3 id="week-1-17-22-june">Week 1 (17-22 June)</h3>
<p><strong>Structures</strong></p>
<ul>
<li>Structure Definitions : This week structure and api definitions were
    designed. had good discussions with the mentors on the possibility
    of the design and finalizing it.</li>
</ul>
<!-- -->

<ul>
<li>Later during the end of week I read about high definition images.
    Familiarized myself with Openexr
    <a href="http://www.openexr.com/ReadingAndWritingImageFiles-1.2.x.pdf">2</a>
    image containers. Also about how bmp, png handles them. About</li>
</ul>
<p><strong>Depth Converters</strong></p>
<ul>
<li>Bw-pix, pix-bw : I converted these two utilities to functions. These
    were important because these can help convert a grey level image to
    a colour image and vice versa. Saved as patch.</li>
</ul>
<p><strong>Patches</strong></p>
<ul>
<li>Wrote Doxygen comments for ICV Header file. Committed by ``Erik</li>
</ul>
<!-- -->

<ul>
<li>Revisited my pre-application ICV_LOAD patches. Improved them and
    posted. Waiting to be reviewed. (Patch 197).</li>
</ul>
<p><strong>Cropping Functions</strong></p>
<ul>
<li>Although Groups start from the second week. During Discussions with
    the mentors, I implemented functionalities of Group 1. icv_rect
    (cropping with rectangular box.) and icv_crop(cropping with skewed
    coordinates). Although these have to be re modified with the new
    structure definitions.</li>
</ul>
<p><strong>bwhisteq</strong></p>
<ul>
<li>I found a code redundancy while reading the utilities last week.
    Thus posted it. The mentors found issues with the compatibility of
    bwhisteq and its correctness. I checked and tested it on
    artificially uniform grad images, two color images with half dark
    and half light and natural images of lena, barbara. Turns out that
    this is fine.</li>
</ul>
<p><em>P.S. From next week onwards I will update on daily basis.</em></p>
<h3 id="week-2">WEEK 2</h3>
<p>'''''24th June</p>
<p>Worked on Operations(GROUP 2). Learnt the macro usage of vmath.h. This
provides nice macro definitions. Although these cannot be used for image
data. Designed new macro definitions for icv_data. Initiated a
discussion for keeping them in icv_math.h</p>
<p>'''''25th June</p>
<ul>
<li>Tested three different structure definitions for the time. These are
    here <a href="http://www.bzflag.bz/~mohit/interleaved.c">3</a>
    <a href="http://www.bzflag.bz/~mohit/structure.c">4</a>
    <a href="http://www.bzflag.bz/~mohit/seperatearrays.c">5</a></li>
<li>checked the Crop, and rect as per the new struct defintion</li>
<li>Find out a plan to implement these structure on the existing use of
    a libicv in rt,libged and rmrt</li>
</ul>
<p>'''''26th and 27th June</p>
<ul>
<li>Wrote Functions to read, write, create Image and zero image.</li>
<li>Separate files have been made for each format. Added pix, bw format.</li>
<li>Links to these files are as follows</li>
</ul>
<p><a href="http://www.bzflag.bz/~mohit/ICV/icv.h">http://www.bzflag.bz/~mohit/ICV/icv.h</a></p>
<p><a href="http://www.bzflag.bz/~mohit/ICV/image.c">http://www.bzflag.bz/~mohit/ICV/image.c</a></p>
<p><a href="http://www.bzflag.bz/~mohit/ICV/icv_bw.c">http://www.bzflag.bz/~mohit/ICV/icv_bw.c</a></p>
<p><a href="http://www.bzflag.bz/~mohit/ICV/icv_pix.c">http://www.bzflag.bz/~mohit/ICV/icv_pix.c</a></p>
<p><a href="http://www.bzflag.bz/~mohit/ICV/fileformat.c">http://www.bzflag.bz/~mohit/ICV/fileformat.c</a></p>
<ul>
<li>Road ahead:- Incorporate them in rt/view.c rt/viewxray.c
    rt/viewedge.c and rt/do.c and libged/screengrab.c</li>
</ul>
<p>'''''28th June</p>
<ul>
<li>Converted the existing use of LIBICV in rt.</li>
<li>Added gamma_corr field in image for gamma correction when an
    image's data is converted from double to unsigned char type.</li>
</ul>
<p>'''''29th June</p>
<ul>
<li>didnt do any coding work today.</li>
<li>worked towards clarifying issues with my patches 171, 175, 176,
    178,188,192,197,198, 201.</li>
</ul>
<p>'''''30th June</p>
<ul>
<li>did some system Cleaning and Installed new operating System and
    packages.</li>
</ul>
<h3 id="week-3">WEEK 3</h3>
<p>'''''1 July</p>
<ul>
<li>Did code regarding Filter Functions (Group 3) and use of Kernels.</li>
</ul>
<p>'''''2 July</p>
<ul>
<li>Improved the kernel functions. tried building a test function in the
    src/util folder.</li>
</ul>
<p>'''''3 July</p>
<ul>
<li>Instead of going further with Designing new functions. reiterated
    the use of icv functions in libged/screengrab.c Changed there
    functions as per the new writepixel functions. Tested load, save
    functions of icv library.</li>
</ul>
<p>'''''4 July</p>
<ul>
<li>Wrote testing function and programs similar to libbu. These will
    help in testing the functions of icv. Also changed current usage of
    libicv in rt, rmrt and libged.</li>
</ul>
<p>'''''5 July</p>
<ul>
<li>Wrote Color_space changers. This will be useful in saving RGB data
    in bw format and gray data in pix format.</li>
</ul>
<p>'''''6 July</p>
<ul>
<li>Wrote crop and rect functions for icv library. Crop accepts skewed
    parameters and can extract image in any quadrilateral, this then
    converts the image to rectangular using the nearest neighbour.
    Whereas rect extracts rectangular part of an image.</li>
</ul>
<h3 id="milestones-reached"><strong>Milestones Reached</strong></h3>
<p>The following milestones only include the completed code. Kernels and
operations have been started but are yet to completed, thus not included
in the milestone.</p>
<ol>
<li>Discussed with mentors about the image structures and API designs.</li>
<li>Wrote save functions in new format. Implemented the following
    functions as per the new formats.<ol>
<li>create_image,</li>
<li>load_image,</li>
<li>zero_image,</li>
<li>free_image,</li>
<li>write_pixel,</li>
<li>write_line</li>
</ol>
</li>
<li>Initiated a testing infrastructure for libicv. Wrote testing
    functions for loading and saving images.</li>
<li>converted the existing use of ICV in rt,libged and rmrt.</li>
<li>Implemented functions to crop image These include<ol>
<li>Rect</li>
<li>Crop</li>
</ol>
</li>
<li>Implemented functions to change Color_space<ol>
<li>rgb2gray</li>
<li>gray2rgb</li>
</ol>
</li>
</ol>
<p>This link takes you to the new ICV infrastructure written
<a href="http://bzflag.bz/~mohit/libicv_7thJUL/">http://bzflag.bz/~mohit/libicv_7thJUL/</a></p>
<h3 id="week-4">Week 4</h3>
<p>'''''Monday (8th July)</p>
<p>Implemented testing routines in libicv/tests for color_space(rgb2gray
and gray2rgb), pixel writing(single pixel, and pixel line). Corrected
few errors in the routines. Tested color space changers with natural
image(lena of 512X512 in png format). Converted that to pix(png2pix).
Loaded pix image using implemented function. and converted it to gray
scale image, then saved to bw format. Used this bw image to create a pix
image using colorspace change to rgb. <em>P.S. All these things are done by
loading the image in double format data</em></p>
<p>'''''Tuesday (9th July)</p>
<p>Implemented and tested splitting of color channels. Given a rgb image
this function can split the any color channel and produce a gray scale
image.</p>
<p>'''''Wednesday (10th July)</p>
<ul>
<li>Implemented Pixsaturate as icv_saturate.</li>
<li>This implementation is a function which takes in the sat value and
    icv_image struct. This takes the double data.</li>
<li>Created a test routine for this implementation. Corrected few errors
    which crept in.</li>
<li>Compared the results with the original routine (pixsaturate)</li>
</ul>
<p>'''''Thursday (11th July)</p>
<p>Started working on filter Again. This is a very tricky implementation as
a function. There are three routines pixfilter, bwfilter and
pix3filtter. Read there code along. Found some commonalities.</p>
<p>'''''Friday (12th June)</p>
<p>Implemented the filter routine for single channel images. This is a very
rough draft and will involve changing and updating the function.</p>
<p>'''''Saturday (13th June)</p>
<p><strong>Took a break : Invited friends for Iftikhar party</strong></p>
<p>'''''Sunday(14th July)</p>
<p>Only Tested the bwhisteq function for Method2. And updated status about
previous patches.</p>
<h3 id="week-5">Week 5</h3>
<p>'''''Monday (15th July)</p>
<p>Improved the filter function with added generalization to dimension of
kernel and number of channels.</p>
<p>'''''Tuesday (16th July)</p>
<p>Finalized filter function. Tested it with natural images for lenna,
mandrill and barbara. This implementation is highly generalized and can
handle any number of channels. Also kernel dimension has been worked
with (Ensuring it accepts any size of kernel). Although this file will
need a relook for getting kernel coefficients of arbitrary size.</p>
<p>'''''Wednesday (17th July)</p>
<p>Implemented icv_hist function. Also tested this file. This
implementation has also been generalized for any number of channels.
thus an improvement over previous code. Also it was tricky implementing
this because the image data is converted to double. To deal with this
used the bins concept and converted to integer.</p>
<p>'''''Thursday (18th July)</p>
<p>Looked at plans for implementation of histeq for double data. By the
look of it looks very tricky to implement this for double data. I
believe I have to write it afresh.</p>
<p>'''''Friday (19th July)</p>
<p>Implemented histeq for single channel images. Also looked at stats
functions. Looked at Erik's suggestion for single functions like
icv_image_sum, icv_image_mean etc.</p>
<p>'''''Saturday (20th July)</p>
<p>Implemented stats function. Planning to merge hist functions in stats.c</p>
<h3 id="week-6">Week 6</h3>
<p>'''''Monday (22 July)</p>
<p>Implemented bilinear interpolation as part of scale function. Next I
have to implement nearest neighbour function.</p>
<p>'''''Tuesday (23 July)</p>
<p>Completed scale function. Now it is a generalized implementation. It is
implemented as icv_scale accepts both gray scale(single channel) and
rgb images. Also it works with double data.</p>
<p>'''''Wednesday (24 July)</p>
<p>Implemented shrink function. This handles both pixshrink and bwshrink
and the api function looks as icv_shrink.</p>
<p>'''''Thursday (25 July)</p>
<p>Tested icv_scale and icv_shrink. Corrected the anomalies.</p>
<p>'''''Friday (26 July)</p>
<p>Committed the new icv structure. Incrementally Committing all the
functions and api's. Also working on a bug that crept in rt during
commit.</p>
<p>'''''Saturday (27 July)</p>
<p>Tried Fixing issue related to rtedge.</p>
<p>'''''Sunday (28 July)</p>
<p>Hostel Relocation.</p>
<h3 id="week-7">Week 7</h3>
<p>'''''Monday (29 July)</p>
<p>Fixed few bugs which crept in during icv implementation in rt. Compiled
the src code on bz account. Ran several tests on multi processor machine
(bz server). Did benchmark testing. Went through large part of code in
rt. Also got acquainted to multi threaded process in brl-cad.</p>
<p>'''''Tuesday (30 July)</p>
<p>Tested and committed rect, crop, filter, filter3, fade api functions. My
local tree was sort of mismanaged.</p>
<p>'''''Wednesday (31 July)</p>
<p>Was planning to work on merging my tree in the source code, But
Apparently Benchmark Error showed up. :-( Wrote icv_writeline such that
now it doesn't allocate memory. This helps in putting in place the
semaphores again. Even Putting semaphore didn't help resolve the
benchmark issue. I took help of fellow gsoc students to get errors from
benchmark, And it turned out there was issue with fractions in double
data. Did some internal tests. And corrected the code.</p>
<p>'''''Thursday (1 Aug)</p>
<p>Segregated pix, bw from fileformat.c file. Added new flags and thus
modified my previous work on operations and icv_math.h Completed source
tree syncing.</p>
<p>'''''Friday (2 Aug)</p>
<p>Revisited to scale and shrink. Corrected pixshrink and bwshrink
utilities. Went out for TAX registration. Could not do much work. Will
make up on sunday.</p>
<p>'''''Saturday (3 Aug)</p>
<p>Implemented bilinear [binterep(..)] and nearest neighbour
interpolation [ninterep(..)] in sync with current format. Also added
BOX Average shrinking [shrink_image(..)] and under sampler
[under_sample()]</p>
<h3 id="week-8">Week 8</h3>
<p>'''''Monday &amp; TUESDAY (5th and 6th Aug)</p>
<ul>
<li>Did Code cleaning. Visited my university regarding final year
    thesis. Now everything is set.</li>
</ul>
<!-- -->

<ul>
<li>Will Start working at a better pace from tomorrow. Targeting this
    week's deadline of groups.</li>
</ul>
<p>'''''Wednesday to Sat (7th to 10th Aug)</p>
<ul>
<li><strong>bw_save and pix_save</strong> :- Modified such that now they can write
    to stdout or pipes refering to them</li>
<li><strong>bw_load and pix_load</strong> :- modified such that now they can read
    from stdin or pipes.</li>
<li><strong>pixscale and bwcale</strong> :- Doesnt show ioctl error now.</li>
<li><strong>bwrect</strong> :- Converted a model for using libicv in the utilities.</li>
<li><strong>decimate</strong> :- created a wrapper function namely icv_resize to
    handle the resizing functionality.</li>
<li><strong>stat</strong> :- implemented mode, median, skew and variance
    functionalities.</li>
</ul>
<h3 id="week-9">Week 9</h3>
<p>'''''Monday (August 10)</p>
<ul>
<li>modified bw_read and pix_read such that it can read from stdin and</li>
<li>Modified bw_read and pix_read such that it could save to stdout.</li>
<li>These two modiciations are useful for writting and reading images
    to/from pipes</li>
<li>Did some codecleaning by correcting messages.</li>
</ul>
<p>'''''Tuesday (August 11)</p>
<ul>
<li>Started converting utilities to use icv library.</li>
<li>Converted bwrect to use icv library.</li>
<li>Also leart bu_getopt and other function to handle the operators</li>
</ul>
<p>'''''Wednesday (August 12)</p>
<ul>
<li>
<p>Improved the nomenclature of icv library as per the mentor's advice</p>
</li>
<li>
<p>icv_save -&gt; icv_write</p>
</li>
<li>icv_load -&gt; icv_read</li>
<li>icv_free -&gt; icV_destroy</li>
</ul>
<p>'''''Wednesday (August 13)</p>
<ul>
<li>Had discussions on IRC regarding the fate of the utiities. And other
    utilities option.</li>
</ul>
<p>'''''Thrudsay (August 14)</p>
<ul>
<li>corrected the documentation of bwrect as per the new modification.</li>
<li>Incorporated the use of icv in pixrect.</li>
<li>Wrote the docs for pixrect for icv.</li>
</ul>
<p>'''''Thrudsay (August 15)</p>
<ul>
<li>Added routines to read/write dpix images.</li>
<li>Also created icv_normalize function to handle the dpix images.</li>
</ul>
<p>'''''(August 16 - August 22)</p>
<ul>
<li>Taken a break for holidays. Independence day and RakshaBandhan</li>
</ul>
<h3 id="week-10">Week 10</h3>
<p>'''''August 23</p>
<ul>
<li>Made provision for bw-pix to use libicv.</li>
<li>Pixfade also uses libicv.</li>
</ul>
<p>'''''August 24</p>
<ul>
<li>Reduced parameters of rgb2gray. This now takes the weights and the
    color combinations.</li>
<li>Added few macros for icv to covert rgb images into gray images using
    the standard weights.</li>
<li>Put some brain on the error related to sextic polynomials. Helped
    Izak_ (on IRC) to correct it.</li>
</ul>
<h3 id="week-11">Week 11</h3>
<p>'''''August 25 &amp; August 26</p>
<ul>
<li>icv_filter didnt take care of the boundaries till now. Finding a
    solution to correct this behaviour.</li>
<li>Also had a discussion related to minimal changes.</li>
</ul>
<p>'''''August 27</p>
<ul>
<li>Modified icv_filter to preserve boundary condition.</li>
<li>Incorporated libicv in bwfilter app. This now has an option to
    output to a specified file name. Also pipes can be handled.</li>
</ul>
<p>'''''August 28</p>
<ul>
<li>Encountered error in regress due to the latest changes in pix-bw
    utility.</li>
<li>Looking at regress and trying to study its functionality.</li>
</ul>
<p>'''''August 29</p>
<ul>
<li>Updated the man page of bwfilter with recent changes in libicv.</li>
<li>Added verbose in bwfilter as per the previous usage.</li>
<li>Added offset and kerndivision flag options in bwfilter.</li>
<li>Wored out the regress error. Also there was an error with expr in
    the regress. Helped in finding that out.</li>
</ul>
<p>'''''August 30 and August 31</p>
<ul>
<li>Improved bw_read and pix_read to read images without specifying
    the image size. Also updated the docs.</li>
<li>Used this improvement in pix-bw. Also changed at the instances
    pix-bw is used.</li>
<li>did some code cleaning in color_space utilities, bw-pix.</li>
</ul>
<h3 id="week-12">Week 12</h3>
<p>(Exam Week at home institute.)</p>
<ul>
<li>Updated and restructured the mannual page for pix-bw</li>
</ul>
<!-- -->

<ul>
<li>Created a list of doubts in development of libicv. Had an
    informative discussion with Sean (brlcad) on irc related to
    development and task left for completion. Added all the points in
    src/libicv/TODO.</li>
</ul></div>
            </div>
        </div>

        <footer class="col-md-12">
            <hr>
            <p>Documentation built with <a href="https://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>
        <script>
            var base_url = "../../../..",
                shortcuts = {"help": 191, "next": 78, "previous": 80, "search": 83};
        </script>
        <script src="../../../../js/base.js" defer></script>
        <script src="../../../../search/main.js" defer></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="searchModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="searchModalLabel">Search</h4>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
                <p>From here you can search these documents. Enter your search terms below.</p>
                <form>
                    <div class="form-group">
                        <input type="search" class="form-control" placeholder="Search..." id="mkdocs-search-query" title="Type search term here">
                    </div>
                </form>
                <div id="mkdocs-search-results" data-no-results-text="No results found"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div><div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="keyboardModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="keyboardModalLabel">Keyboard Shortcuts</h4>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="help shortcut"><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td class="next shortcut"><kbd>n</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td class="prev shortcut"><kbd>p</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td class="search shortcut"><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>

    </body>
</html>
